<!DOCTYPE HTML>
<!--
	Astral by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Patryk Skrzęta - Portfolio</title>
		<meta name="description" content="Welcome to my portfolio, please take a look on my projects!">
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/sales.css" />
		<link rel="icon" type="image/x-icon" href="images/icon.png">
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	</head>
	<body class="is-preload">

		<!-- Wrapper-->
			<div id="wrapper">

				<!-- Nav -->
					<nav id="nav">
						<a href="#home" class="icon solid fa-bolt"><span>Intro</span></a>
						<a href="#Features" class="icon solid fa-file-import"><span>Features</span></a>
						<a href="#Demo" class="icon solid fa-layer-group"><span>Demo</span></a>
						<a href="#Setup" class="icon solid fa-download"><span>Setup</span></a>
						<a href="index.html#projects" class="icon solid fa-home"><span>Home</span></a>
					</nav>

				<!-- Main -->
					<div id="main">

						<!-- Me -->
							<article id="home" class="panel intro">
								<div class="box">
									<h1>Saleboard</h1>
									<p>Solution for storing customers data in one place</br> bulit with Flask, SQLAlchemy and Pandas.  </p>
									<img class="introimg" src="images/salelogo.png">

									<div class="cons">
										<div class="conscolumn">
											<ul>
												<li>
													<i  class="icon solid fa-table ikonkaintro"></i>
													<p>Easy to read data</p>
												</li>
												<li>
													<i  class="icon solid fa-chart-bar ikonkaintro"></i>
													<p>Interactive live charts</p>
												</li>
												<li>
													<i  class="icon solid fa-upload ikonkaintro"></i>
													<p>CSV file upload pipeline</p>
												</li>
											</ul>
										</div>
										<div class="conscolumn">
											<ul>
												<li>
													<i  class="icon solid fa-lock ikonkaintro"></i>
													<p>Two-step verification</p>
												</li>
												<LI>
													<i  class="icon solid fa-user ikonkaintro"></i>
													<p>Clean user interface</p>
												</LI>
												<li>
													<i  class="icon solid fa-search ikonkaintro"></i>
													<p>Advanced searching options</p>
												</li>
											</ul>
										</div>
									</div>
							</article>

						<!-- Work -->
							<article id="Features" class="panel">
									<h1>
										Saleboard is made with foucus on user experience.
									</h1>
									<p>Technologies used:</p>
									<ul>
										<li><span style="color: rgb(170, 233, 99);">+ </span>HTML, CSS, JS, Bootstrap</li>
										<li><span style="color: rgb(170, 233, 99);">+ </span>Pandas</li>
										<li><span style="color: rgb(170, 233, 99);">+ </span>Flask (werkzeug.security, flask-mail, flask-login, flask-wtf, flask-sqlalchemy)</li>
										<li><span style="color: rgb(170, 233, 99);">+ </span>Sqlite database</li>
										<li><span style="color: rgb(170, 233, 99);">+ </span>Chart.js</li>
									</ul>

									<h2>CSV file upload pipeline</h2>
									<p>This application implements a robust pipeline for uploading, validating, processing, and storing CSV data. Here's a detailed description of the pipeline:</p>
										
									<style>

									</style>
											
<ol class="pipelineicons">
    <li>
        <p>User selects a CSV file from their local system and uploads it through a form.</p>
        <div class="pipebox">
            <i class="fa fa-folder"></i>
            <div class="code-container">
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                <code>
form id="upload-form" method="post" action="{{ url_for('upload_review_csv') }}" enctype="multipart/form-data" style="display: none;">
input type="file" name="file" id="file-input" accept=".csv" required>
/form>
                </code>
            </div>
        </div>
    </li>
    <li>
        <p>Ensure that a file is included in the upload request.</p>
        <div class="pipebox">
            <i class="fa fa-check"></i>
            <div class="code-container">
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                <code>
if 'file' not in request.files:
    flash('No file part', 'danger')
    return redirect(url_for('sales'))
                </code>
            </div>
        </div>
    </li>
    <li>
        <p>Verify that a filename is provided.</p>
        <div class="pipebox">
            <i class="fa fa-search"></i>
            <div class="code-container">
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                <code>
if file.filename == '':
    flash('No selected file', 'danger')
    return redirect(url_for('review'))
                </code>
            </div>
        </div>
    </li>
    <li>
        <p>Ensure the file has a ".csv" extension.</p>
        <div class="pipebox">
            <i class="fa fa-broom"></i>
            <div class="code-container">
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                <code>
if not file.filename.endswith('.csv'):
                </code>
            </div>
        </div>
    </li>
    <li>
        <p>Save the uploaded file to a dedicated dir on the server.</p>
        <div class="pipebox">
            <i class="fa fa-save"></i>
            <div class="code-container">
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                <code>
file.save(os.path.join('uploads', file.filename))
                </code>
            </div>
        </div>
    </li>
    <li>
        <p>Use Pandas to read the CSV file into a Dataframe.</p>
        <div class="pipebox">
            <i class="fa fa-chart-bar"></i>
            <div class="code-container">
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                <code>
df = pd.read_csv(os.path.join('uploads', file.filename))
                </code>
            </div>
        </div>
    </li>
    <li>
        <p>Making sure that data types, and data structure is correct.</p>
        <div class="pipebox">
            <i class="fa fa-wrench"></i>
            <div class="code-container">
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                <code>
# Validate dataframe
                </code>
            </div>
        </div>
    </li>
    <li>
        <p>After successful validation save it to the Sqlite3 database using SQLAlchemy.</p>
        <div class="pipebox">
            <i class="fa fa-flask"></i>
            <div class="code-container">
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                <code>
df.to_sql('reviews', con=db.engine, if_exists='replace', index=False)
flash('Data has been read correctly!', 'success')
except Exception as e:
    flash(f'ERROR: {str(e)}', 'danger')
    os.remove(file_path)
return redirect(url_for('review'))
                </code>
            </div>
        </div>
    </li>
</ol>

<h2>Chart.js</h2>
<p>Chart.js is used to create interactive and visually appealing charts for displaying data. Here's an overview of how Chart.js is integrated:</p>
<ol>
    <li>
        <p><strong>Query Data</strong> The average values of various review metrics (product quality, shipping quality, shipping time, contact quality) are calculated using SQLAlchemy queries.</p>
		<div class="chartbox">
        <div class="code-container">
            <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            <code>
# Example SQLAlchemy query to calculate averages
averages = db.session.query(
    func.avg(Review.product_quality).label('avg_product_quality'),
    func.avg(Review.shipping_quality).label('avg_shipping_quality'),
    func.avg(Review.shipping_time).label('avg_shipping_time'),
    func.avg(Review.contact_quality).label('avg_contact_quality')
).all()
            </code>
        </div>

		</div>

    </li>
    <li>
        <p><strong>Prepare Chart Data</strong> The queried data is organized into a dictionary with labels and data points.</p>
		<div class="chartbox">
			
		</div>
        <div class="code-containerc">
            <button class="copy-btn" onclick="copyCode(this)">Copy</button>
            <code>
# Example data preparation for Chart.js
chart_data = {
    'labels': ['Product Quality', 'Shipping Quality', 'Shipping Time', 'Contact Quality'],
    'datasets': [{
        'label': 'Average Ratings',
        'data': [avg['avg_product_quality'], avg['avg_shipping_quality'], avg['avg_shipping_time'], avg['avg_contact_quality']],
        'backgroundColor': 'rgba(75, 192, 192, 0.2)',
        'borderColor': 'rgba(75, 192, 192, 1)',
        'borderWidth': 1
    }]
}
            </code>
        </div>
    </li>
    <li>
        <p>Use Chart.js to create the chart. The chart_data passed from Flask is used to populate the chart.</p>
		<div class="chartbox">
			<div class="code-containerc">
				<button class="copy-btn" onclick="copyCode(this)">Copy</button>
				<code>
	# Example of Chart.js integration in HTML
	
	var ctx = document.getElementById('myChart').getContext('2d');
	var myChart = new Chart(ctx, {
		type: 'bar',
		data: {{ chart_data|tojson }},
		options: {
			scales: {
				y: {
					beginAtZero: true
				}
			}
		}
	});
				</code>
			</div>
		</div>

    </li>
</ol>
<img src="images/salelogo.png" alt="" class="chartimg" style="text-align: center; width: 20vw; margin-bottom: 3rem;">
									<h2>Security and two-step verification</h2>


									<h2>Review stars philosophy</h2>
									<p>After retrieving and sorting the reviews, each numeric rating is converted to a visual representation using stars.</p>
									<ol>
										<li><p>Iterate through each review in the retrieved data</p></li>
										<li><p>For each rating attribute (product_quality, shipping_time, shipping_quality, contact_quality), the numeric value is replaced with a corresponding number of star symbols (&#9733;).</p></li>
									</ol>
									<p>Example</p>
									<ol>
										<li><p>
											If review.product_quality is 4, it will be converted to &#9733; &#9733; &#9733; &#9733;.
										</p></li>
									</ol>
									<img src="images/stars.png" alt="">
							</article>

						<!-- Contact -->
							<article id="Demo" class="panel">
								<h2>Login</h2>
								<h2>File uploading</h2>
								<h2>Data reading</h2>
								<h2>Data vizualization</h2>
								<h2>Filtering by date</h2>
							</article>

							<article id="Setup" class="panel">
								
							</article>

					</div>

				<!-- Footer -->
					<div id="footer">
						<ul class="copyright">
							<li>&copy; Patryk Skrzęta all rights reserved</li>
						</ul>
					</div>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>

	<script>
		function copyCode(btn) {
			var code = btn.nextElementSibling.innerText;
			navigator.clipboard.writeText(code).then(function() {
				btn.textContent = 'Copied!';
				setTimeout(function() {
					btn.textContent = 'Copy';
				}, 2000);
			}, function() {
				btn.textContent = 'Failed to copy';
			});
		}
	</script>
</html>
